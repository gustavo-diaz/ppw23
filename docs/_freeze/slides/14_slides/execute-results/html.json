{
  "hash": "dd86b2cd6d9aa0b0002df1c03f582789",
  "result": {
    "markdown": "---\nformat:\n  revealjs:\n    theme: [default, custom.scss]\n    slide-number: true\n---\n\n\n\n\n\n::: {style=\"text-align: center\"}\n## Quasi-Experiments II {.center background-color=\"#ac1455\"}\n\n&nbsp;\n\n**POLSCI 4SS3**  \nWinter 2023\n:::\n\n## Course surveys due April 12, 11:59 PM {background-color=\"#8BD3E6\"}\n\n![](figs/course_evals.png){fig-align=\"center\"}\n\n## Announcements {background-color=\"#8BD3E6\"}\n\n- Final projects due **April 21**\n\n- Groups need to meet with instructor one more time before **April 19** `(Otherwise your group meeting grade is F)`\n\n- Extra office hour times **April 13-19**\n\n- Every group member needs to be in **at least one** group meeting to receive the group meeting grade\n\n\n\n## Last time {background-color=\"#FDBF57\"}\n\n- **Quasi-experiments:** Observational answer strategies for causal inquiries\n\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n<tr>\n<th style=\"empty-cells: hide;border-bottom:hidden;\" colspan=\"1\"></th>\n<th style=\"border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; \" colspan=\"2\"><div style=\"border-bottom: 1px solid #ddd; padding-bottom: 5px; \">Data strategy</div></th>\n</tr>\n  <tr>\n   <th style=\"text-align:left;\"> Inquiry </th>\n   <th style=\"text-align:left;\"> Observational </th>\n   <th style=\"text-align:left;\"> Experimental </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> Descriptive </td>\n   <td style=\"text-align:left;\"> Sample survey </td>\n   <td style=\"text-align:left;\"> List experiment </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;font-weight: bold;\"> Causal </td>\n   <td style=\"text-align:left;font-weight: bold;\"> Quasi-experiment </td>\n   <td style=\"text-align:left;\"> Survey/field experiment </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n\n. . .\n\n- RDD as an example of quasi-experiment\n\n- **Today:** Difference-in-differences as another common example in public policy\n\n::: {style=\"text-align: center\"}\n## What did you learn this semester? {.center background-color=\"#8BD3E6\"}\n:::\n\n## Where to go from here?\n\n### Go back to foundations\n\n- Probability and statistics\n- Philosophy of science\n- Research design\n- R programming\n\n::: aside\nHappy to help if you want to know more!\n:::\n    \n## Where to go from here? {visibility=\"uncounted\"}\n\n### Further learning\n\n- Programming in Python, Julia\n- Survey design\n- Program evaluation\n- Science of science\n\n::: aside\nHappy to help if you want to know more!\n:::\n    \n## Where to go from here? {visibility=\"uncounted\"}\n\n### Careers & fields\n\n- Data science, computer science, statistics\n\n- Computational/quantitative social science\n\n- Econometrics\n\n- Evidence-informed policy\n\n- Public administration\n\n- Business, marketing\n\n::: aside\nHappy to help if you want to know more!\n:::\n\n# Difference-in-differences {background-color=\"#8BD3E6\"}\n\n## Reminder\n\n- Critiques to causal claims from observational data\n\n. . .\n\n1. Reverse causation\n\n2. Omitted variable bias\n\n3. Selection bias\n\n. . .\n\n- Need creativity to rule these out\n\n## Difference-in-differences design\n\n::: incremental\n- *At least* two groups or conditions `(treatment,control)`\n\n- *At least* two time periods `(pre- and post-treatment)`\n\n- Once treated, units **stay on**\n\n- We accept that selection bias is unavoidable\n\n- But comparing before-after changes between groups allows us to calculate treatment effect\n\n:::\n\n::: aside\naka DD, DiD, Diff-in-diffs for short\n:::\n\n## Diff-in-diffs estimator\n\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n<tr>\n<th style=\"empty-cells: hide;border-bottom:hidden;\" colspan=\"1\"></th>\n<th style=\"border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; \" colspan=\"2\"><div style=\"border-bottom: 1px solid #ddd; padding-bottom: 5px; \">Timing</div></th>\n</tr>\n  <tr>\n   <th style=\"text-align:left;\"> Group </th>\n   <th style=\"text-align:center;\"> Before </th>\n   <th style=\"text-align:center;\"> After </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:center;\"> A </td>\n   <td style=\"text-align:center;\"> B </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Control </td>\n   <td style=\"text-align:center;\"> C </td>\n   <td style=\"text-align:center;\"> D </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n\n. . .\n\n$$\n\\widehat{ATE} =  [\\text{Mean}(B) - \\text{Mean}(A)] - [\\text{Mean}(D) - \\text{Mean}(C)]\n$$\n\n## Diff-in-diffs estimator {visibility=\"uncounted\"}\n\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n<tr>\n<th style=\"empty-cells: hide;border-bottom:hidden;\" colspan=\"1\"></th>\n<th style=\"border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; \" colspan=\"2\"><div style=\"border-bottom: 1px solid #ddd; padding-bottom: 5px; \">Timing</div></th>\n</tr>\n  <tr>\n   <th style=\"text-align:left;\"> Group </th>\n   <th style=\"text-align:center;\"> Before </th>\n   <th style=\"text-align:center;\"> After </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:center;\"> A </td>\n   <td style=\"text-align:center;\"> B </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Control </td>\n   <td style=\"text-align:center;\"> C </td>\n   <td style=\"text-align:center;\"> D </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n\n\n$$\n\\widehat{ATE} =  \\underbrace{[\\text{Mean}(B) - \\text{Mean}(A)]}_\\text{Difference} - \\underbrace{[\\text{Mean}(D) - \\text{Mean}(C)]}_\\text{Difference}\n$$\n\n## Diff-in-diffs estimator {visibility=\"uncounted\"}\n\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n<tr>\n<th style=\"empty-cells: hide;border-bottom:hidden;\" colspan=\"1\"></th>\n<th style=\"border-bottom:hidden;padding-bottom:0; padding-left:3px;padding-right:3px;text-align: center; \" colspan=\"2\"><div style=\"border-bottom: 1px solid #ddd; padding-bottom: 5px; \">Timing</div></th>\n</tr>\n  <tr>\n   <th style=\"text-align:left;\"> Group </th>\n   <th style=\"text-align:center;\"> Before </th>\n   <th style=\"text-align:center;\"> After </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> Treatment </td>\n   <td style=\"text-align:center;\"> A </td>\n   <td style=\"text-align:center;\"> B </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> Control </td>\n   <td style=\"text-align:center;\"> C </td>\n   <td style=\"text-align:center;\"> D </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n\n\n$$\n\\widehat{ATE} =  \\underbrace{\\underbrace{[\\text{Mean}(B) - \\text{Mean}(A)]}_\\text{Difference} - \\underbrace{[\\text{Mean}(D) - \\text{Mean}(C)]}_\\text{Difference}}_\\text{Difference in differences}\n$$\n\n---\n\n![](figs/dd.png){.absolute top=50 left=50}\n\n::: aside\nAssuming the treatment group follows the dotted line absent treatment, the difference in difference estimator recovers the causal effect\n:::\n\n## Assumption\n\n. . .\n\n::: {.callout-warning}\n### Parallel trends\n- Treatment and control may have different values before treatment\n\n- Absent treatment, the treatment group would have changed like the control group\n\n:::\n\n::: incremental\n- This is equivalent to claiming that treatment and control, while different, follow a similar trajectory\n\n- Ideally, you justify by observing the outcome over many pre-treatment periods\n:::\n\n## What happens if we break parallel trends?\n\n![](figs/dd_trend_1.png)\n\n## What happens if we break parallel trends? {visibility=\"uncounted\"}\n\n![](figs/dd_trend_2.png)\n\n## What happens if we break parallel trends? {visibility=\"uncounted\"}\n\n![](figs/dd_trend_3.png)\n\n## Variants of the design\n\n::: incremental\n- Many groups, treatments, time periods\n\n- **Increasingly common:** Units become treated at different time periods\n\n- **Example:** Policy adopted by cities over a time period\n\n- This makes similar to a **staggered adoption** design\n\n- But things get very complicated *without randomization*\n:::\n\n## Multiple treatment periods\n\n![](figs/dd_timing.png)\n\n::: aside\nEffects are positive first, negative later. The average of the two cancels out, but the policy clearly has an effect!\n:::\n\n# Example {background-color=\"#8BD3E6\"}\n\n## Leininger et al (2023)\n\n### Temporary disenfranchisement in Germany\n\n::: incremental\n- Discrepancies of minimum voting age across elections `(municipal, state, national)`\n\n- 16-17 year olds in Schleswig-Holstein can vote in local but not national elections\n\n- **Temporary disenfranchisement** may push voters away from democracy\n:::\n\n## Research design\n\n![](figs/leininger_1.png)\n\n. . .\n\n- **Outcomes:** Survey questions about internal/external efficacy, satisfaction with democracy, political interest\n\n## Parallel trends\n\n![](figs/leininger_2.png){fig-align=\"center\"}\n\n## Results\n\n![](figs/leininger_3.png)\n\n::: aside\nATEs estimated via difference-in-differences\n:::\n\n::: {style=\"text-align: center\"}\n## Thank you! {.center background-color=\"#8BD3E6\"}\n\n:::\n\n\n::: {style=\"text-align: center\"}\n## Break time! {.center background-color=\"#D2D755\"}\n\n&nbsp;\n\n![](figs/panda_dance.gif){fig-align=\"center\" width=\"10%\" height=\"10%\"} \n:::\n\n::: {style=\"text-align: center\"}\n## {{< fa laptop-code >}} Lab {.center background-color=\"#007096\"}\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ],
      "include-after-body": [
        "\r\n<script>\r\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\r\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\r\n  // slide changes (different for each slide format).\r\n  (function () {\r\n    // dispatch for htmlwidgets\r\n    function fireSlideEnter() {\r\n      const event = window.document.createEvent(\"Event\");\r\n      event.initEvent(\"slideenter\", true, true);\r\n      window.document.dispatchEvent(event);\r\n    }\r\n\r\n    function fireSlideChanged(previousSlide, currentSlide) {\r\n      fireSlideEnter();\r\n\r\n      // dispatch for shiny\r\n      if (window.jQuery) {\r\n        if (previousSlide) {\r\n          window.jQuery(previousSlide).trigger(\"hidden\");\r\n        }\r\n        if (currentSlide) {\r\n          window.jQuery(currentSlide).trigger(\"shown\");\r\n        }\r\n      }\r\n    }\r\n\r\n    // hookup for slidy\r\n    if (window.w3c_slidy) {\r\n      window.w3c_slidy.add_observer(function (slide_num) {\r\n        // slide_num starts at position 1\r\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\r\n      });\r\n    }\r\n\r\n  })();\r\n</script>\r\n\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}